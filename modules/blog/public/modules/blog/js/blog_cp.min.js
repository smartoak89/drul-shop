!function(a){function b(){document.getElementById("_taracot_loader_image").style.backgroundImage="url("+q+")",document.getElementById("_taracot_loader_image").style.width=m+"px",document.getElementById("_taracot_loader_image").style.height=n+"px",FPS=Math.round(100/l),v=1/FPS,u=setTimeout(c,v/1e3)}function c(){t+=p,s+=1,s>=o&&(t=0,s=0),document.getElementById("_taracot_loader_image")&&(document.getElementById("_taracot_loader_image").style.backgroundPosition=-t+"px 0"),u=setTimeout(c,1e3*v)}function d(a,b){clearTimeout(r),r=0,genImage=new Image,genImage.onload=function(){r=setTimeout(b,0)},genImage.src=a}function e(){var b=(a(window).height()-a("#_taracot_loader_image").outerHeight())/2,c=(a(window).width()-a("#_taracot_loader_image").outerWidth())/2;a("#_taracot_loader_image").css({position:"absolute",margin:0,top:(b>0?b:0)+"px",left:(c>0?c:0)+"px"})}function f(a){a=a||window.event,a.preventDefault&&a.preventDefault(),a.returnValue=!1}function g(a){for(var b=x.length;b--;)if(a.keyCode===x[b])return void f(a)}function h(a){f(a)}function i(){window.addEventListener&&window.addEventListener("DOMMouseScroll",h,!1),window.onmousewheel=document.onmousewheel=h,document.onkeydown=g}function j(){window.removeEventListener&&window.removeEventListener("DOMMouseScroll",h,!1),window.onmousewheel=document.onmousewheel=document.onkeydown=null}var k=jQuery.extend({},k),l=9,m=100,n=100,o=12,p=100,q="/images/loading.png",r=!1,s=0,t=0,u=!1,v=0,w={init:function(c){a("body").append('<div id="_taracot_loader_image_wrap" style="position:fixed;top:0;left:0;background:rgba(0,0,0,0.6);z-index:999;width:100%;height:100%;display:none;"><div id="_taracot_loader_image"></div></div>'),new d(q,b),a(window).resize(e)},show:function(){e(),a("#_taracot_loader_image_wrap").show(),i()},hide:function(){a("#_taracot_loader_image_wrap").hide(),j()}};a.loadingIndicator=function(b){return w[b]?w[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("Method "+b+" doesn't exists"):w.init.apply(this,arguments)};var x=[37,38,39,40]}(jQuery),$.loadingIndicator(),$("#btn_area_add").click(function(){for(var a='<tr class="uk-form"><td><input type="text" class="uk-width-1-1"></td>',b=0;b<locales.length;b++)a+='<td><input type="text" class="uk-width-1-1"></td>';a+='<td style="text-align:right"><button class="uk-button uk-button-danger taracot-blog-area-delete"><i class="uk-icon-trash-o"></i></button></td></tr>',$("#blog_areas_tb").append(a),$(".taracot-blog-area-delete").unbind(),$(".taracot-blog-area-delete").click(btn_taracot_area_delete_handler),$("#blog_areas").show()});var btn_taracot_area_delete_handler=function(){confirm(_lang_vars.confirm_delete_area)&&$(this).parent().parent().remove(),$("#blog_areas tr").length>1?$("#blog_areas").show():$("#blog_areas").hide()};$("#btn_save").click(function(){$.loadingIndicator("show");var a="";$("#blog_mode_private").hasClass("uk-active")&&(a="private"),$("#blog_mode_moderation").hasClass("uk-active")&&(a="moderation"),$("#blog_mode_public").hasClass("uk-active")&&(a="public");var b=[],c=0,d={};$("#blog_areas_tb  > tr > td").each(function(){return 0===c&&(d.id=$(this).children().first().val()),c>0&&c<=locales.length&&(d[locales[c-1]]=$(this).children().first().val()),c>locales.length?(b.push(d),c=0,void(d={})):void c++}),$.ajax({type:"POST",url:"/cp/blog/config/save",data:{mode:a,areas:b},dataType:"json",success:function(a){$.loadingIndicator("hide"),UIkit.notify(a.status&&1==a.status?{message:_lang_vars.save_success,status:"success",timeout:2e3,pos:"top-center"}:{message:_lang_vars.ajax_failed,status:"danger",timeout:2e3,pos:"top-center"})},error:function(){$.loadingIndicator("hide"),UIkit.notify({message:_lang_vars.ajax_failed,status:"danger",timeout:2e3,pos:"top-center"})}})}),$(document).ready(function(){$("#blog_areas_tb  > tr").each(function(){$(this).remove()}),$(".taracot-blog-mode").removeClass("uk-active"),$("#blog_mode_private").click(),"private"==init_mode&&$("#blog_mode_private").click(),"moderation"==init_mode&&$("#blog_mode_moderation").click(),"public"==init_mode&&$("#blog_mode_public").click();for(var a=0;a<init_areas.length;a++)$("#btn_area_add").click();var b=0,c=0;$("#blog_areas_tb  > tr > td").each(function(){var a=init_areas[c];return a&&(0===b&&$(this).children().first().val(a.id),b>0&&b<=locales.length&&$(this).children().first().val(a[locales[b-1]])),b>locales.length?(b=0,void c++):void b++})});